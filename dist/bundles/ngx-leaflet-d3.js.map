{"version":3,"file":"ngx-leaflet-d3.js","sources":["../leaflet-d3/hexbin/leaflet-hexbin.directive.js","../leaflet-d3/ping/leaflet-ping.directive.js","../leaflet-d3/leaflet-d3.module.js"],"sourcesContent":["import { Directive, EventEmitter, Input, Output } from '@angular/core';\nimport * as L from 'leaflet';\nimport { LeafletDirective, LeafletDirectiveWrapper } from '@asymmetrik/ngx-leaflet';\nvar LeafletHexbinDirective = /** @class */ (function () {\n    function LeafletHexbinDirective(leafletDirective) {\n        // Hexbin data binding\n        this.hexbinData = [];\n        // Interaction events\n        this.hexbinMouseover = new EventEmitter();\n        this.hexbinMouseout = new EventEmitter();\n        this.hexbinClick = new EventEmitter();\n        // Fired when the layer is created\n        this.layerReady = new EventEmitter();\n        this.leafletDirective = new LeafletDirectiveWrapper(leafletDirective);\n    }\n    LeafletHexbinDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this.leafletDirective.init();\n        var map = this.leafletDirective.getMap();\n        this.hexbinLayer = L.hexbinLayer(this.hexbinOptions);\n        // Fire the ready event\n        this.layerReady.emit(this.hexbinLayer);\n        // register for the hexbin events\n        this.hexbinLayer.dispatch().on('mouseover', function (p) { _this.hexbinMouseover.emit(p); });\n        this.hexbinLayer.dispatch().on('mouseout', function (p) { _this.hexbinMouseout.emit(p); });\n        this.hexbinLayer.dispatch().on('click', function (p) { _this.hexbinClick.emit(p); });\n        this.hexbinLayer.addTo(map);\n        // Initialize the data (in case the data was set before the directive was initialized)\n        this.setHexbinData(this.hexbinData);\n    };\n    LeafletHexbinDirective.prototype.ngOnChanges = function (changes) {\n        // Set the new data\n        if (changes['hexbinData']) {\n            this.setHexbinData(changes['hexbinData'].currentValue);\n        }\n    };\n    LeafletHexbinDirective.prototype.setHexbinData = function (data) {\n        // Only if there is a hexbinLayer do we apply the data\n        if (null != this.hexbinLayer) {\n            this.hexbinLayer.data(data);\n        }\n    };\n    LeafletHexbinDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[leafletHexbin]'\n                },] },\n    ];\n    /** @nocollapse */\n    LeafletHexbinDirective.ctorParameters = function () { return [\n        { type: LeafletDirective, },\n    ]; };\n    LeafletHexbinDirective.propDecorators = {\n        'hexbinData': [{ type: Input, args: ['leafletHexbin',] },],\n        'hexbinOptions': [{ type: Input, args: ['leafletHexbinOptions',] },],\n        'hexbinMouseover': [{ type: Output, args: ['leafletHexbinMouseover',] },],\n        'hexbinMouseout': [{ type: Output, args: ['leafletHexbinMouseout',] },],\n        'hexbinClick': [{ type: Output, args: ['leafletHexbinClick',] },],\n        'layerReady': [{ type: Output, args: ['leafletHexbinLayerReady',] },],\n    };\n    return LeafletHexbinDirective;\n}());\nexport { LeafletHexbinDirective };\n//# sourceMappingURL=leaflet-hexbin.directive.js.map","import { Directive, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport * as L from 'leaflet';\nimport '@asymmetrik/leaflet-d3';\nimport { LeafletDirective, LeafletDirectiveWrapper } from '@asymmetrik/ngx-leaflet';\nvar LeafletPingDirective = /** @class */ (function () {\n    function LeafletPingDirective(leafletDirective) {\n        this.pingObserverReady = new EventEmitter();\n        this.leafletDirective = new LeafletDirectiveWrapper(leafletDirective);\n    }\n    LeafletPingDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this.leafletDirective.init();\n        var map = this.leafletDirective.getMap();\n        this.pingLayer = L.pingLayer(this.pingOptions).addTo(map);\n        // Handle incoming ping events\n        this.pingSource = Observable.create(function (observer) {\n            _this.pingObserver = observer;\n            _this.pingObserverReady.emit(_this.pingObserver);\n        })\n            .subscribe(function (event) {\n            if (null != event) {\n                _this.ping(event.data, event.cssClass);\n            }\n        });\n    };\n    /**\n     * Submit a ping to the ping layer.\n     *\n     * @param data Contains the lat/lon information to generate the ping\n     * @param cssClass Optional parameter specifying the css class to apply to the ping\n     */\n    LeafletPingDirective.prototype.ping = function (data, cssClass) {\n        if (null != this.pingLayer) {\n            this.pingLayer.ping(data, cssClass);\n        }\n    };\n    LeafletPingDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[leafletPing]'\n                },] },\n    ];\n    /** @nocollapse */\n    LeafletPingDirective.ctorParameters = function () { return [\n        { type: LeafletDirective, },\n    ]; };\n    LeafletPingDirective.propDecorators = {\n        'pingOptions': [{ type: Input, args: ['leafletPingOptions',] },],\n        'pingObserverReady': [{ type: Output, args: ['leafletPingObserver',] },],\n    };\n    return LeafletPingDirective;\n}());\nexport { LeafletPingDirective };\n//# sourceMappingURL=leaflet-ping.directive.js.map","import { NgModule } from '@angular/core';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\nimport { LeafletHexbinDirective } from './hexbin/leaflet-hexbin.directive';\nimport { LeafletPingDirective } from './ping/leaflet-ping.directive';\nvar LeafletD3Module = /** @class */ (function () {\n    function LeafletD3Module() {\n    }\n    LeafletD3Module.forRoot = function () {\n        return { ngModule: LeafletD3Module, providers: [] };\n    };\n    LeafletD3Module.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        LeafletModule\n                    ],\n                    exports: [\n                        LeafletHexbinDirective,\n                        LeafletPingDirective\n                    ],\n                    declarations: [\n                        LeafletHexbinDirective,\n                        LeafletPingDirective\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    LeafletD3Module.ctorParameters = function () { return []; };\n    return LeafletD3Module;\n}());\nexport { LeafletD3Module };\n//# sourceMappingURL=leaflet-d3.module.js.map"],"names":["EventEmitter","LeafletDirectiveWrapper","L.hexbinLayer","Directive","LeafletDirective","Input","Output","L.pingLayer","Observable","NgModule","LeafletModule"],"mappings":"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"}